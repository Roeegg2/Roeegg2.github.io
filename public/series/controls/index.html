<!DOCTYPE html>
<html lang="en-us">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
<meta charset="utf-8" />
<link rel="stylesheet" href="/css/fonts.css">
<meta name="author" content="" />
<meta name="description" content="" />
<meta name="keywords" content="" />

<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta name="generator" content="Hugo 0.136.2">

<link rel="canonical" href="http://localhost:1313/series/controls/">
<meta property="og:url" content="http://localhost:1313/series/controls/">
  <meta property="og:site_name" content="Roeegg2&#39;s Blog">
  <meta property="og:title" content="The NES Internals Series: chapter 5 - The Standard Controller">
  <meta property="og:description" content="These are pretty straight forward.
for myself NES has 2 controller ports, and a rarely used 48 pin expansion port underneath
NES IO ports 1 output port, 3 bits, accesible by writing the bottom 3 bits of 4016
2 input ports, each is 5 bits wide. accesible by reading the bottom 5 bits of 4016 and 4017 reading these 2 ports activate pins /OE1 and /OE2
the standard NES controller dataline">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="series">
    <meta property="article:published_time" content="2024-04-23T15:13:25+03:00">
    <meta property="article:modified_time" content="2024-04-23T15:13:25+03:00">


  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="The NES Internals Series: chapter 5 - The Standard Controller">
  <meta name="twitter:description" content="These are pretty straight forward.
for myself NES has 2 controller ports, and a rarely used 48 pin expansion port underneath
NES IO ports 1 output port, 3 bits, accesible by writing the bottom 3 bits of 4016
2 input ports, each is 5 bits wide. accesible by reading the bottom 5 bits of 4016 and 4017 reading these 2 ports activate pins /OE1 and /OE2
the standard NES controller dataline">


  <meta itemprop="name" content="The NES Internals Series: chapter 5 - The Standard Controller">
  <meta itemprop="description" content="These are pretty straight forward.
for myself NES has 2 controller ports, and a rarely used 48 pin expansion port underneath
NES IO ports 1 output port, 3 bits, accesible by writing the bottom 3 bits of 4016
2 input ports, each is 5 bits wide. accesible by reading the bottom 5 bits of 4016 and 4017 reading these 2 ports activate pins /OE1 and /OE2
the standard NES controller dataline">
  <meta itemprop="datePublished" content="2024-04-23T15:13:25+03:00">
  <meta itemprop="dateModified" content="2024-04-23T15:13:25+03:00">
  <meta itemprop="wordCount" content="284">

<link rel="stylesheet" href="/css/layout.css" />


<link rel="stylesheet" href="/css/default-dark.css" />




<title>


     The NES Internals Series: chapter 5 - The Standard Controller 

</title>

</head>


<body>
<div class="main">
<header>

<div class="header-bar">

  <nav>
    <div class="siteTitle">
      <a href="http://localhost:1313/">Roeegg2&#39;s Blog</a>
    </div> 

    
    
    <a class="nav-item" href="/posts"><div class="nav-item-title">Single Posts</div></a>
    
    <a class="nav-item" href="/series"><div class="nav-item-title">Series</div></a>
    
    <a class="nav-item" href="/about"><div class="nav-item-title">About</div></a>
    

  </nav>

</div>

</header>


<article class="post">
    <h1 class="title"> The NES Internals Series: chapter 5 - The Standard Controller </h1>
    <div class="content"> <p>These are pretty straight forward.</p>
<h1 id="for-myself">for myself</h1>
<p>NES has 2 controller ports, and a rarely used 48 pin expansion port underneath</p>
<p><strong>NES IO ports</strong>
1 output port, 3 bits, accesible by writing the bottom 3 bits of 4016</p>
<p>2 input ports, each is 5 bits wide. accesible by reading the bottom 5 bits of 4016 and 4017
reading these 2 ports activate pins /OE1 and /OE2</p>
<p><strong>the standard NES controller dataline</strong></p>
<pre tabindex="0"><code>0 - A
1 - B
2 - Select
3 - Start
4 - Up
5 - Down
6 - Left
7 - Right
</code></pre><p>after ? reads all the 8 bits, all the bits will turn into 1. (3rd party and other controllers might report differently here)</p>
<p><strong>input (4016 write)</strong></p>
<p>while bit 0 (S) (strobe) is 1, the controller shift regs are reloaded from the button states. reading 4016/4017 will return the current state of the first button A.
when bit 0 (S) turns 0, reloading will be stopped</p>
<p><strong>output 4016/4017</strong>
in order to get the status of controller 1 and controller 2, you must write to 4016 and then read 4016 (for controller 1) and read 4017 (for controller 2)</p>
<p>first 8 reads will indicate which buttons/directions are pressed (1 for pressed, 0 for not pressed). all other reads will return 1 on the official NES controllers, but other 3rd party controllers report 0.</p>
<p>the status for each controller is return as 1 byte (8 bits), in the following order: A,B,Select,Start,Up,Down,Left,Right</p>
<p>when no controller is connected, all bits return 0.</p>
<hr>
<p>Write 1 to $4016 to signal the controller to poll its input
Write 0 to $4016 to finish the poll
Read polled data one bit at a time from $4016 or $4017</p>
 </div>
    <footer class="post-footer">

  <div class="post-footer-data">
            
<div class="tags">
  
</div>

    
    <div class="date"> Published: 2024-04-23</div>
  </div>
</footer>



</article>

  <footer>

  <div class="social-links-footer">

  

  

  

  

  

  

  <div class="social-link">
  
  </div>

</div>


  <div class="copyright">  </div>

  <div class="poweredby">
    Powered by <a href="https://gohugo.io/">Hugo</a>.
  </div>

  </footer>

</div> 

</body>
</html>

